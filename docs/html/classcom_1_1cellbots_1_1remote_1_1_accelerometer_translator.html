<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ThesisCellbots: com.cellbots.remote.AccelerometerTranslator Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ThesisCellbots
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Version of Cellbots used for my Master&#39;s Thesis (Spring 2012)</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html','');
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">com.cellbots.remote.AccelerometerTranslator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><b>SensorData</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4f5c735bdf53b25e77b3a2d9fff0cc62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a4f5c735bdf53b25e77b3a2d9fff0cc62">AccelerometerTranslator</a> (Context ct, <a class="el" href="interfacecom_1_1cellbots_1_1remote_1_1_ui_view_1_1_ui_event_listener.html">UiEventListener</a> uiListener, long maxRateMs)</td></tr>
<tr class="memitem:a83312a865f4355979f035994bca9871b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a83312a865f4355979f035994bca9871b">stop</a> ()</td></tr>
<tr class="memitem:a8df167847090a980b9241b2742f6bc3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a8df167847090a980b9241b2742f6bc3b">movement</a> (SensorData currentValues)</td></tr>
<tr class="memitem:a6d9cccb57457ca1d65810ebc4e11762d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a6d9cccb57457ca1d65810ebc4e11762d">setBaseline</a> (SensorData initial)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1bde37552a9cb4a67e84162ea171dab0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a1bde37552a9cb4a67e84162ea171dab0">convertRadiansToSpeed</a> (double angleRadians)</td></tr>
<tr class="memitem:a65a9273b907c6927bb585533054ae71c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a65a9273b907c6927bb585533054ae71c">convertRadiansToTurn</a> (double angleRadians, boolean goForward)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Handle the translation from accelerometer sensing to actual robot movement.</p>
<dl class="section author"><dt>Author:</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'css'+'@g'+'oog'+'le'+'.co'+'m'; return false;">css@g<span style="display: none;">.nosp@m.</span>oogl<span style="display: none;">.nosp@m.</span>e.com</a> (Charles Spirakis) </dd></dl>

<p>Definition at line <a class="el" href="_accelerometer_translator_8java_source.html#l00030">30</a> of file <a class="el" href="_accelerometer_translator_8java_source.html">AccelerometerTranslator.java</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4f5c735bdf53b25e77b3a2d9fff0cc62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a4f5c735bdf53b25e77b3a2d9fff0cc62">com.cellbots.remote.AccelerometerTranslator.AccelerometerTranslator</a> </td>
          <td>(</td>
          <td class="paramtype">Context&#160;</td>
          <td class="paramname"><em>ct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interfacecom_1_1cellbots_1_1remote_1_1_ui_view_1_1_ui_event_listener.html">UiEventListener</a>&#160;</td>
          <td class="paramname"><em>uiListener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>maxRateMs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_accelerometer_translator_8java_source.html#l00086">86</a> of file <a class="el" href="_accelerometer_translator_8java_source.html">AccelerometerTranslator.java</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1bde37552a9cb4a67e84162ea171dab0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a1bde37552a9cb4a67e84162ea171dab0">com.cellbots.remote.AccelerometerTranslator.convertRadiansToSpeed</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angleRadians</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_accelerometer_translator_8java_source.html#l00270">270</a> of file <a class="el" href="_accelerometer_translator_8java_source.html">AccelerometerTranslator.java</a>.</p>

</div>
</div>
<a class="anchor" id="a65a9273b907c6927bb585533054ae71c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a65a9273b907c6927bb585533054ae71c">com.cellbots.remote.AccelerometerTranslator.convertRadiansToTurn</a> </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>angleRadians</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&#160;</td>
          <td class="paramname"><em>goForward</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_accelerometer_translator_8java_source.html#l00311">311</a> of file <a class="el" href="_accelerometer_translator_8java_source.html">AccelerometerTranslator.java</a>.</p>

</div>
</div>
<a class="anchor" id="a8df167847090a980b9241b2742f6bc3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a8df167847090a980b9241b2742f6bc3b">com.cellbots.remote.AccelerometerTranslator.movement</a> </td>
          <td>(</td>
          <td class="paramtype">SensorData&#160;</td>
          <td class="paramname"><em>currentValues</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Translate movement of the phone into movement of the robot. Currently we compute the instantaneous speed the of the device (in millimeters/second) based on the last two accelerometer values. If the absolute speed is below a threshold, then the assumption is that the accelerometer is mostly measuring values relative to gravity and we can treat the accelerometer values as an indication of rotation. If we integrated the speed over time, we could (in theory) determine relative position from the starting location and that may be interesting for some form of robot control (vs. using orientation). This would also (in theory) allow for 3-d control (moving the device up relative to the original location would translate into an up command to the robot). In this case, the orientation of the phone may not be relevant (only care about 3-d position for control) or it could indicate roll/pitch to the device. But that is something for later...</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">currentValues</td><td>The current accelerometer readings. </td></tr>
  </table>
  </dd>
</dl>
<p>As long as the phone display is facing up, the atan XZ and atan YZ values correspond to orientation's roll and pitch. Once the phone display is upside down (and the z accelerometer value becomes negative), the XZ/YZ and roll/pitch values differ. There is a break that happens when z becomes negative. The code above blocks that out, so we only need to deal with values from -90 to 0 to 90 (as values above 90 means the phone is at least partially upside down).</p>
<p>The difference between the two angles. If the pitch is increasing, that means speed the robot up. If the pitch is decreasing, that means slow the robot down. A positive pitch means the robot should be moving forward and a negative pitch means the robot should move backwards. If the roll is increasing, that means speed up the robots turn to the right (aka slow the robots turn to the left). If the roll is decreasing, that means slow the robots turn to the left (aka speed up the robots turn to the right). For roll 0 should indicate straight movement and negative values should indicate some form of left turn while positive roll values should indicate some form of right turn.</p>

<p>Definition at line <a class="el" href="_accelerometer_translator_8java_source.html#l00118">118</a> of file <a class="el" href="_accelerometer_translator_8java_source.html">AccelerometerTranslator.java</a>.</p>

</div>
</div>
<a class="anchor" id="a6d9cccb57457ca1d65810ebc4e11762d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a6d9cccb57457ca1d65810ebc4e11762d">com.cellbots.remote.AccelerometerTranslator.setBaseline</a> </td>
          <td>(</td>
          <td class="paramtype">SensorData&#160;</td>
          <td class="paramname"><em>initial</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_accelerometer_translator_8java_source.html#l00246">246</a> of file <a class="el" href="_accelerometer_translator_8java_source.html">AccelerometerTranslator.java</a>.</p>

</div>
</div>
<a class="anchor" id="a83312a865f4355979f035994bca9871b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html#a83312a865f4355979f035994bca9871b">com.cellbots.remote.AccelerometerTranslator.stop</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_accelerometer_translator_8java_source.html#l00095">95</a> of file <a class="el" href="_accelerometer_translator_8java_source.html">AccelerometerTranslator.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/com/cellbots/remote/<a class="el" href="_accelerometer_translator_8java_source.html">AccelerometerTranslator.java</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacecom.html">com</a>      </li>
      <li class="navelem"><a class="el" href="namespacecom_1_1cellbots.html">cellbots</a>      </li>
      <li class="navelem"><a class="el" href="namespacecom_1_1cellbots_1_1remote.html">remote</a>      </li>
      <li class="navelem"><a class="el" href="classcom_1_1cellbots_1_1remote_1_1_accelerometer_translator.html">AccelerometerTranslator</a>      </li>

    <li class="footer">Generated on Fri May 11 2012 11:28:49 for ThesisCellbots by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.0 </li>
   </ul>
 </div>


</body>
</html>
